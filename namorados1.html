<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maria ‚ù§Ô∏è Jo√£o - O nosso amor</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Dancing Script', 'Poppins', cursive, sans-serif;
      background: #0a0a1a;
      color: #fff;
      overflow-x: hidden;
    }

    /* Fundo suave com estrelas */
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 30% 50%, #1a1a3a, #0a0a1a);
      z-index: -2;
    }

    .stars::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(2px 2px at 20px 30px, #fff, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 40px 70px, #ffd700, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 80px 110px, #ff69b4, rgba(0,0,0,0)),
        radial-gradient(3px 3px at 150px 250px, #fff, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 250px 400px, #ffd700, rgba(0,0,0,0));
      background-repeat: repeat;
      background-size: 300px 300px;
      opacity: 0.5;
      animation: twinkle 5s infinite alternate;
    }

    @keyframes twinkle {
      0% { opacity: 0.3; }
      100% { opacity: 0.8; }
    }

    /* Container principal */
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
      z-index: 10;
    }

    /* Header com efeito de vidro */
    header {
      text-align: center;
      padding: 40px 20px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: 40px;
      margin: 20px 0;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    h1 {
      font-family: 'Dancing Script', cursive;
      font-size: clamp(2.8rem, 10vw, 4.5rem);
      background: linear-gradient(135deg, #ffd700, #ff69b4, #00ffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 10px;
      letter-spacing: 2px;
    }

    .data-inicio {
      font-size: 1.3rem;
      color: #ffd700;
      letter-spacing: 3px;
      text-transform: uppercase;
      opacity: 0.9;
    }

    /* Foto principal com efeito suave */
    .foto-container {
      position: relative;
      width: 200px;
      height: 200px;
      margin: 30px auto;
    }

    .foto-principal {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 0 50px rgba(255, 105, 180, 0.5);
      transition: transform 0.3s ease;
    }

    .foto-principal:hover {
      transform: scale(1.02);
    }

    .coracao-flutuante {
      position: absolute;
      font-size: 2rem;
      animation: floatHeart 3s infinite;
      filter: drop-shadow(0 0 15px #ff69b4);
    }

    @keyframes floatHeart {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(10deg); }
    }

    /* Contador minimalista */
    .contador-wrapper {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: 30px;
      padding: 30px 20px;
      margin: 40px 0;
      border: 1px solid rgba(255, 215, 0, 0.3);
    }

    .contador-titulo {
      font-size: 1.5rem;
      color: #ffd700;
      margin-bottom: 20px;
      text-align: center;
      font-weight: 300;
      letter-spacing: 2px;
    }

    .contador-numeros {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .bloco {
      text-align: center;
      min-width: 70px;
    }

    .bloco .numero {
      font-size: clamp(2.5rem, 6vw, 3.5rem);
      font-weight: 300;
      line-height: 1;
      color: #fff;
      text-shadow: 0 0 20px #ff69b4;
      font-family: 'Poppins', sans-serif;
    }

    .bloco .legenda {
      font-size: 0.9rem;
      text-transform: uppercase;
      color: #ffd700;
      letter-spacing: 2px;
      opacity: 0.8;
    }

    /* Bot√£o principal elegante */
    .btn-presente {
      background: linear-gradient(135deg, #ff69b4, #ffd700);
      border: none;
      color: #0a0a1a;
      font-size: 1.8rem;
      font-weight: 600;
      padding: 20px 40px;
      border-radius: 60px;
      cursor: pointer;
      margin: 40px auto;
      display: block;
      width: fit-content;
      border: 1px solid rgba(255,255,255,0.3);
      box-shadow: 0 10px 30px rgba(255,105,180,0.3);
      transition: all 0.3s ease;
      font-family: 'Poppins', sans-serif;
      letter-spacing: 1px;
    }

    .btn-presente:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(255,215,0,0.4);
    }

    .btn-presente:active {
      transform: translateY(0);
    }

    /* Mensagem secreta com fade suave */
    .mensagem-secreta {
      display: none;
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(15px);
      border-radius: 40px;
      padding: 40px;
      margin: 40px 0;
      border: 1px solid rgba(255,215,0,0.3);
      animation: fadeInUp 0.8s ease;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    #mensagem-digitada {
      font-size: 1.6rem;
      line-height: 1.8;
      color: #fff;
      text-shadow: 0 0 20px #ffd700;
      font-family: 'Dancing Script', cursive;
      text-align: center;
      white-space: pre-wrap;
    }

    /* Galeria com carrossel suave */
    .galeria {
      margin: 60px 0;
    }

    .galeria h2 {
      font-size: 2.5rem;
      text-align: center;
      margin-bottom: 30px;
      font-family: 'Dancing Script', cursive;
      color: #ffd700;
      font-weight: 400;
    }

    .carrossel {
      position: relative;
      max-width: 500px;
      margin: 0 auto;
      border-radius: 30px;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    }

    .slides {
      display: flex;
      transition: transform 0.5s ease;
    }

    .slides img {
      width: 100%;
      height: 400px;
      object-fit: cover;
      flex-shrink: 0;
      cursor: pointer;
      transition: filter 0.3s;
    }

    .slides img:hover {
      filter: brightness(1.1);
    }

    .carrossel button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255,255,255,0.2);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255,255,255,0.3);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      transition: all 0.3s;
    }

    .carrossel button:hover {
      background: rgba(255,105,180,0.5);
      transform: translateY(-50%) scale(1.1);
    }

    .prev { left: 15px; }
    .next { right: 15px; }

    /* Hist√≥ria em cards */
    .historia {
      margin: 60px 0;
      padding: 40px;
      background: rgba(255,255,255,0.03);
      border-radius: 40px;
      border-left: 3px solid #ff69b4;
      border-right: 3px solid #ffd700;
    }

    .historia h2 {
      font-size: 2.5rem;
      font-family: 'Dancing Script', cursive;
      color: #ffd700;
      margin-bottom: 30px;
      text-align: center;
      font-weight: 400;
    }

    .historia p {
      font-size: 1.2rem;
      line-height: 1.8;
      margin-bottom: 20px;
      opacity: 0.9;
      font-family: 'Poppins', sans-serif;
      font-weight: 300;
    }

    /* Frase do dia */
    .frase-container {
      background: linear-gradient(135deg, rgba(255,105,180,0.1), rgba(255,215,0,0.1));
      border-radius: 40px;
      padding: 40px;
      margin: 40px 0;
      text-align: center;
      border: 1px solid rgba(255,215,0,0.3);
    }

    #frase-romantica {
      font-size: 1.8rem;
      font-style: italic;
      color: #fff;
      text-shadow: 0 0 15px #ff69b4;
      font-family: 'Dancing Script', cursive;
      line-height: 1.6;
      transition: opacity 0.5s;
    }

    /* Bot√µes m√°gicos sutis */
    .botoes {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      margin: 40px 0;
    }

    .botao-magico {
      padding: 12px 30px;
      border: none;
      border-radius: 40px;
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,215,0,0.3);
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: 'Poppins', sans-serif;
    }

    .botao-magico:hover {
      background: rgba(255,105,180,0.2);
      border-color: #ff69b4;
      transform: translateY(-2px);
    }

    /* Bot√£o m√∫sica */
    #music-toggle {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,215,0,0.3);
      color: #ffd700;
      font-size: 1.5rem;
      cursor: pointer;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
    }

    #music-toggle:hover {
      background: rgba(255,105,180,0.3);
      transform: scale(1.1);
      color: #fff;
    }

    /* Lightbox */
    .lightbox {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.95);
      backdrop-filter: blur(10px);
      z-index: 10000;
      justify-content: center;
      align-items: center;
    }

    .lightbox img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 20px;
      border: 2px solid #ffd700;
    }

    /* Chuva de amor suave */
    .particula-amor {
      position: fixed;
      pointer-events: none;
      z-index: 9999;
      animation: cair 4s linear forwards;
      font-size: 1.5rem;
      opacity: 0.6;
    }

    @keyframes cair {
      0% {
        transform: translateY(-10vh) rotate(0deg);
        opacity: 0.8;
      }
      100% {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }

    footer {
      text-align: center;
      padding: 40px 0;
      color: rgba(255,255,255,0.5);
      font-size: 0.9rem;
      font-family: 'Poppins', sans-serif;
    }

    footer i {
      color: #ff69b4;
    }

    @media (max-width: 600px) {
      .btn-presente {
        font-size: 1.4rem;
        padding: 15px 30px;
      }
      
      #mensagem-digitada {
        font-size: 1.3rem;
      }
      
      .slides img {
        height: 300px;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <div class="stars"></div>

  <!-- √ÅUDIO COM AUTOPLAY -->
  <audio id="bg-music" loop autoplay preload="auto">
    <source src="sound.mp3" type="audio/mpeg">
    Seu navegador n√£o suporta √°udio HTML5.
  </audio>

  <button id="music-toggle" onclick="toggleMusic()">
    <i class="fas fa-music"></i>
  </button>

  <div class="container">
    <header>
      <h1>Maria & Jo√£o</h1>
      <div class="data-inicio">14.02.2023</div>
      
      <div class="foto-container">
        <div class="coracao-flutuante" style="top: -30px; right: -20px;">üíñ</div>
        <div class="coracao-flutuante" style="bottom: -30px; left: -20px; animation-delay: 1s;">üí´</div>
        <img src="foto1.jpg" alt="Maria e Jo√£o" class="foto-principal" onclick="abrirLightbox(this.src)" loading="lazy">
      </div>
    </header>

    <div class="contador-wrapper">
      <div class="contador-titulo">‚ù§Ô∏è JUNTOS H√Å ‚ù§Ô∏è</div>
      <div class="contador-numeros">
        <div class="bloco"><span class="numero" id="dias">0</span><span class="legenda">Dias</span></div>
        <div class="bloco"><span class="numero" id="horas">0</span><span class="legenda">Horas</span></div>
        <div class="bloco"><span class="numero" id="minutos">0</span><span class="legenda">Min</span></div>
        <div class="bloco"><span class="numero" id="segundos">0</span><span class="legenda">Seg</span></div>
      </div>
    </div>

    <button class="btn-presente" onclick="revelarMensagem()">
      <i class="fas fa-gift"></i> ABRIR PRESENTE
    </button>

    <div class="mensagem-secreta" id="mensagem-secreta">
      <div id="mensagem-digitada"></div>
    </div>

    <div class="galeria">
      <h2>‚ú® Nossos Momentos ‚ú®</h2>
      <div class="carrossel">
        <div class="slides">
          <img src="foto1.jpg" alt="Momento 1" onclick="abrirLightbox(this.src)" loading="lazy">
          <img src="foto2.jpg" alt="Momento 2" onclick="abrirLightbox(this.src)" loading="lazy">
          <img src="foto3.jpg" alt="Momento 3" onclick="abrirLightbox(this.src)" loading="lazy">
          <img src="foto4.jpg" alt="Momento 4" onclick="abrirLightbox(this.src)" loading="lazy">
          <img src="foto5.jpg" alt="Momento 5" onclick="abrirLightbox(this.src)" loading="lazy">
        </div>
        <button class="prev" onclick="mudarSlide(-1)"><i class="fas fa-chevron-left"></i></button>
        <button class="next" onclick="mudarSlide(1)"><i class="fas fa-chevron-right"></i></button>
      </div>
    </div>

    <div class="lightbox" id="lightbox" onclick="fecharLightbox()">
      <img id="lightbox-img" src="">
    </div>

    <div class="historia">
      <h2>üíñ A nossa hist√≥ria</h2>
      <p>Era uma vez, num dia especial de S√£o Valentim, dois cora√ß√µes que se encontraram por acaso... ou talvez pelo destino. Maria e Jo√£o cruzaram-se numa pequena cafeteria, e desde esse instante, nunca mais se separaram.</p>
      <p>Os dias tornaram-se mem√≥rias, e as mem√≥rias tornaram-se sonhos partilhados. Viajaram juntos, riram, choraram, mas acima de tudo, amaram-se incondicionalmente.</p>
      <p>Hoje, celebram mais um ano de cumplicidade, com a certeza de que o amor verdadeiro n√£o se mede pelo tempo, mas pela intensidade de cada olhar, de cada abra√ßo, de cada "amo-te".</p>
    </div>

    <div class="frase-container">
      <div id="frase-romantica">‚ÄúO amor √© a poesia dos sentidos.‚Äù</div>
    </div>

    <div class="botoes">
      <button class="botao-magico" onclick="criarChuvaAmor()"><i class="fas fa-heart"></i> Chuva de Amor</button>
      <button class="botao-magico" onclick="mudarFrase()"><i class="fas fa-sync-alt"></i> Nova Frase</button>
      <button class="botao-magico" onclick="magiaTotal()"><i class="fas fa-wand-magic"></i> Magia</button>
    </div>

    <footer>
      <p>Feito com <i class="fas fa-heart"></i> para a Maria</p>
    </footer>
  </div>

  <script>
    // ========== CONFIGURA√á√ïES ==========
    const dataInicio = new Date('2023-02-14T00:00:00').getTime();
    
    const frases = [
      "O meu amor por ti √© maior que o universo.",
      "Em cada batida, o teu nome.",
      "Sonho contigo todas as noites.",
      "√âs a raz√£o do meu sorriso.",
      "Amo-te mais a cada dia.",
      "Juntos para sempre.",
      "Obrigado por existires.",
      "Minha alma g√©mea.",
      "Contigo tudo faz sentido.",
      "√âs o meu lugar favorito."
    ];

    const mensagemRomantica = "Meu amor Maria,\n\nDesde o primeiro momento em que te vi, soube que eras especial. Cada dia ao teu lado √© um presente, cada sorriso teu ilumina o meu mundo, cada abra√ßo teu √© o meu porto seguro.\n\n√âs a minha melhor amiga, minha confidente, meu amor, minha vida. Prometo amar-te hoje, amanh√£ e para sempre.\n\nCom todo o meu cora√ß√£o,\nJo√£o üíñ";

    // ========== CONTADOR ==========
    function atualizarContador() {
      const agora = new Date().getTime();
      const diff = agora - dataInicio;
      
      document.getElementById('dias').innerText = Math.floor(diff / 86400000);
      document.getElementById('horas').innerText = Math.floor((diff % 86400000) / 3600000).toString().padStart(2, '0');
      document.getElementById('minutos').innerText = Math.floor((diff % 3600000) / 60000).toString().padStart(2, '0');
      document.getElementById('segundos').innerText = Math.floor((diff % 60000) / 1000).toString().padStart(2, '0');
    }
    setInterval(atualizarContador, 1000);
    atualizarContador();

    // ========== BOT√ÉO PRINCIPAL ==========
    function revelarMensagem() {
      criarChuvaAmor(30);
      
      const msgDiv = document.getElementById('mensagem-secreta');
      msgDiv.style.display = 'block';
      msgDiv.scrollIntoView({ behavior: 'smooth' });
      
      const el = document.getElementById('mensagem-digitada');
      el.innerHTML = '';
      let i = 0;
      
      function digitar() {
        if (i < mensagemRomantica.length) {
          if (mensagemRomantica.charAt(i) === '\n') {
            el.innerHTML += '<br>';
          } else {
            el.innerHTML += mensagemRomantica.charAt(i);
          }
          i++;
          setTimeout(digitar, 50);
        }
      }
      digitar();
    }

    // ========== CARROSSEL ==========
    let slideIndex = 0;
    const slides = document.querySelector('.slides');
    const totalSlides = document.querySelectorAll('.slides img').length;

    function mudarSlide(direcao) {
      slideIndex += direcao;
      if (slideIndex < 0) slideIndex = totalSlides - 1;
      if (slideIndex >= totalSlides) slideIndex = 0;
      slides.style.transform = `translateX(-${slideIndex * 100}%)`;
    }

    setInterval(() => mudarSlide(1), 6000);

    // ========== LIGHTBOX ==========
    function abrirLightbox(src) {
      document.getElementById('lightbox-img').src = src;
      document.getElementById('lightbox').style.display = 'flex';
    }

    function fecharLightbox() {
      document.getElementById('lightbox').style.display = 'none';
    }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') fecharLightbox();
    });

    // ========== FRASE ==========
    const fraseEl = document.getElementById('frase-romantica');

    function mudarFrase() {
      fraseEl.style.opacity = 0;
      setTimeout(() => {
        const idx = Math.floor(Math.random() * frases.length);
        fraseEl.innerText = `‚Äú${frases[idx]}‚Äù`;
        fraseEl.style.opacity = 1;
      }, 300);
    }
    // Muda a frase a cada 4 segundos
    setInterval(mudarFrase, 4000);

    // ========== CHUVA DE AMOR ==========
    function criarChuvaAmor(quantidade = 20) {
      const emojis = ['‚ù§Ô∏è', 'üíñ', 'üå∏', '‚ú®', '‚≠ê', 'üí´'];
      for (let i = 0; i < quantidade; i++) {
        setTimeout(() => {
          const el = document.createElement('div');
          el.className = 'particula-amor';
          el.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
          el.style.left = Math.random() * 100 + '%';
          el.style.top = '-10%';
          el.style.fontSize = (Math.random() * 1.5 + 1.2) + 'rem';
          el.style.animationDuration = (Math.random() * 3 + 3) + 's';
          document.body.appendChild(el);
          setTimeout(() => el.remove(), 4000);
        }, i * 30);
      }
    }

    // Ativa a chuva de amor a cada 3 segundos automaticamente
    setInterval(() => criarChuvaAmor(15), 3000);

    // ========== MAGIA TOTAL ==========
    function magiaTotal() {
      criarChuvaAmor(40);
      mudarFrase();
    }

    // ========== M√öSICA COM AUTOPLAY ==========
    const music = document.getElementById('bg-music');
    let musicaAtiva = true; // Come√ßa como true porque vamos tentar tocar automaticamente

    function toggleMusic() {
      if (musicaAtiva) {
        music.pause();
        musicaAtiva = false;
      } else {
        music.play()
          .then(() => {
            musicaAtiva = true;
          })
          .catch(error => {
            console.log("Erro ao reproduzir:", error);
          });
      }
      atualizarIconeMusica();
    }

    function atualizarIconeMusica() {
      const icon = document.querySelector('#music-toggle i');
      if (icon) {
        icon.className = musicaAtiva ? 'fas fa-pause' : 'fas fa-music';
      }
    }

    // Tentar tocar automaticamente quando a p√°gina carregar
    window.addEventListener('load', function() {
      music.play()
        .then(() => {
          console.log("‚úÖ M√∫sica tocando automaticamente!");
          musicaAtiva = true;
          atualizarIconeMusica();
        })
        .catch(error => {
          console.log("‚ùå Autoplay bloqueado pelo navegador:", error);
          console.log("O utilizador precisa interagir com a p√°gina para ativar a m√∫sica");
          musicaAtiva = false;
          atualizarIconeMusica();
          
          // Tenta novamente no primeiro clique
          document.body.addEventListener('click', function ativarNoClique() {
            music.play()
              .then(() => {
                musicaAtiva = true;
                atualizarIconeMusica();
              })
              .catch(e => console.log("Erro no clique:", e));
          }, { once: true });
        });
    });

    // Para debug - verifica se o √°udio carregou
    music.addEventListener('canplaythrough', () => {
      console.log("‚úÖ √Åudio sound.mp3 carregado e pronto!");
    });

    music.addEventListener('error', (e) => {
      console.error("‚ùå Erro ao carregar sound.mp3:", e);
      console.log("Verifica se o arquivo sound.mp3 est√° na mesma pasta do HTML");
    });
  </script>
</body>
</html>